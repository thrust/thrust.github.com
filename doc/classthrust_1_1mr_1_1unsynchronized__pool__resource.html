<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>thrust: thrust::mr::unsynchronized_pool_resource&lt; Upstream &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">thrust
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacethrust.html">thrust</a></li><li class="navelem"><a class="el" href="namespacethrust_1_1mr.html">mr</a></li><li class="navelem"><a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource.html">unsynchronized_pool_resource</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classthrust_1_1mr_1_1unsynchronized__pool__resource-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">thrust::mr::unsynchronized_pool_resource&lt; Upstream &gt; Class Template Reference<span class="mlabels"><span class="mlabel">final</span></span><div class="ingroups"><a class="el" href="group__memory__management.html">Memory Management</a> &raquo; <a class="el" href="group__memory__management__classes.html">Memory Management Classes</a> &raquo; <a class="el" href="group__memory__resources.html">Memory Resources</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="pool_8h_source.html">thrust/mr/pool.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for thrust::mr::unsynchronized_pool_resource&lt; Upstream &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classthrust_1_1mr_1_1unsynchronized__pool__resource.png" usemap="#thrust::mr::unsynchronized_5Fpool_5Fresource_3C_20Upstream_20_3E_map" alt=""/>
  <map id="thrust::mr::unsynchronized_5Fpool_5Fresource_3C_20Upstream_20_3E_map" name="thrust::mr::unsynchronized_5Fpool_5Fresource_3C_20Upstream_20_3E_map">
<area href="classthrust_1_1mr_1_1memory__resource.html" alt="thrust::mr::memory_resource&lt; Upstream::pointer &gt;" shape="rect" coords="0,0,324,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad77718ac585b022167883dd8758bc7d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_ad77718ac585b022167883dd8758bc7d2.html#ad77718ac585b022167883dd8758bc7d2">unsynchronized_pool_resource</a> (Upstream *upstream, <a class="el" href="structthrust_1_1mr_1_1pool__options.html">pool_options</a> options=<a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_a5bb33b019c4133b4e234140f0649e6c1.html#a5bb33b019c4133b4e234140f0649e6c1">get_default_options</a>())</td></tr>
<tr class="separator:ad77718ac585b022167883dd8758bc7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6da6076d59adb74d2df9b917c34595"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_a5d6da6076d59adb74d2df9b917c34595.html#a5d6da6076d59adb74d2df9b917c34595">unsynchronized_pool_resource</a> (<a class="el" href="structthrust_1_1mr_1_1pool__options.html">pool_options</a> options=<a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_a5bb33b019c4133b4e234140f0649e6c1.html#a5bb33b019c4133b4e234140f0649e6c1">get_default_options</a>())</td></tr>
<tr class="separator:a5d6da6076d59adb74d2df9b917c34595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a26db84c987b745a85b5ab62f7ee8cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_a6a26db84c987b745a85b5ab62f7ee8cd.html#a6a26db84c987b745a85b5ab62f7ee8cd">~unsynchronized_pool_resource</a> ()</td></tr>
<tr class="separator:a6a26db84c987b745a85b5ab62f7ee8cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236e23907c5239777c9f07d31d12c6cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_a236e23907c5239777c9f07d31d12c6cf.html#a236e23907c5239777c9f07d31d12c6cf">release</a> ()</td></tr>
<tr class="separator:a236e23907c5239777c9f07d31d12c6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e5d496c8a6be9b18390940debc0b7a"><td class="memItemLeft" align="right" valign="top">virtual void_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_ac2e5d496c8a6be9b18390940debc0b7a.html#ac2e5d496c8a6be9b18390940debc0b7a">do_allocate</a> (std::size_t bytes, std::size_t alignment=alignof(max_align_t))</td></tr>
<tr class="separator:ac2e5d496c8a6be9b18390940debc0b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271fe88f074ce40fd6c8fd7574b9d7a3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_a271fe88f074ce40fd6c8fd7574b9d7a3.html#a271fe88f074ce40fd6c8fd7574b9d7a3">do_deallocate</a> (void_ptr p, std::size_t n, std::size_t alignment=alignof(max_align_t))</td></tr>
<tr class="separator:a271fe88f074ce40fd6c8fd7574b9d7a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classthrust_1_1mr_1_1memory__resource"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classthrust_1_1mr_1_1memory__resource')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classthrust_1_1mr_1_1memory__resource.html">thrust::mr::memory_resource&lt; Upstream::pointer &gt;</a></td></tr>
<tr class="memitem:a6f00adce4ae9ff2b5104c59b8a15361a inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1memory__resource_a6f00adce4ae9ff2b5104c59b8a15361a.html#a6f00adce4ae9ff2b5104c59b8a15361a">~memory_resource</a> ()</td></tr>
<tr class="separator:a6f00adce4ae9ff2b5104c59b8a15361a inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f136731e073ac0c766b1ffeaa58a735 inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classthrust_1_1mr_1_1memory__resource_aba4c34d8cc07d59ce14fe6c30e92727e.html#aba4c34d8cc07d59ce14fe6c30e92727e">pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1memory__resource_a6f136731e073ac0c766b1ffeaa58a735.html#a6f136731e073ac0c766b1ffeaa58a735">allocate</a> (std::size_t bytes, std::size_t alignment=alignof(max_align_t))</td></tr>
<tr class="separator:a6f136731e073ac0c766b1ffeaa58a735 inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a072d12332c1b75fc7813fc4cee2ff inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1memory__resource_ab8a072d12332c1b75fc7813fc4cee2ff.html#ab8a072d12332c1b75fc7813fc4cee2ff">deallocate</a> (<a class="el" href="classthrust_1_1mr_1_1memory__resource_aba4c34d8cc07d59ce14fe6c30e92727e.html#aba4c34d8cc07d59ce14fe6c30e92727e">pointer</a> p, std::size_t bytes, std::size_t alignment=alignof(max_align_t))</td></tr>
<tr class="separator:ab8a072d12332c1b75fc7813fc4cee2ff inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa31ed2a7057d84f4e616498172875474 inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memItemLeft" align="right" valign="top">__host__ __device__ bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1memory__resource_aa31ed2a7057d84f4e616498172875474.html#aa31ed2a7057d84f4e616498172875474">is_equal</a> (const <a class="el" href="classthrust_1_1mr_1_1memory__resource.html">memory_resource</a> &amp;other) const noexcept</td></tr>
<tr class="separator:aa31ed2a7057d84f4e616498172875474 inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab942189772873c162bb64103a6c85abb inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memItemLeft" align="right" valign="top">__host__ virtual __device__ bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1memory__resource_ab942189772873c162bb64103a6c85abb.html#ab942189772873c162bb64103a6c85abb">do_is_equal</a> (const <a class="el" href="classthrust_1_1mr_1_1memory__resource.html">memory_resource</a> &amp;other) const noexcept</td></tr>
<tr class="separator:ab942189772873c162bb64103a6c85abb inherit pub_methods_classthrust_1_1mr_1_1memory__resource"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5bb33b019c4133b4e234140f0649e6c1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structthrust_1_1mr_1_1pool__options.html">pool_options</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1unsynchronized__pool__resource_a5bb33b019c4133b4e234140f0649e6c1.html#a5bb33b019c4133b4e234140f0649e6c1">get_default_options</a> ()</td></tr>
<tr class="separator:a5bb33b019c4133b4e234140f0649e6c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classthrust_1_1mr_1_1memory__resource"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classthrust_1_1mr_1_1memory__resource')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classthrust_1_1mr_1_1memory__resource.html">thrust::mr::memory_resource&lt; Upstream::pointer &gt;</a></td></tr>
<tr class="memitem:aba4c34d8cc07d59ce14fe6c30e92727e inherit pub_types_classthrust_1_1mr_1_1memory__resource"><td class="memItemLeft" align="right" valign="top">typedef Upstream::pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthrust_1_1mr_1_1memory__resource_aba4c34d8cc07d59ce14fe6c30e92727e.html#aba4c34d8cc07d59ce14fe6c30e92727e">pointer</a></td></tr>
<tr class="separator:aba4c34d8cc07d59ce14fe6c30e92727e inherit pub_types_classthrust_1_1mr_1_1memory__resource"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Upstream&gt;<br />
class thrust::mr::unsynchronized_pool_resource&lt; Upstream &gt;</h3>

<p>A memory resource adaptor allowing for pooling and caching allocations from <code>Upstream</code>, using memory allocated from it for both blocks then allocated to the user and for internal bookkeeping of the cached memory.</p>
<p>On a typical memory resource, calls to <code>allocate</code> and <code>deallocate</code> actually allocate and deallocate memory. Pooling memory resources only allocate and deallocate memory from an external resource (the upstream memory resource) when there's no suitable memory currently cached; otherwise, they use memory they have acquired beforehand, to make memory allocation faster and more efficient.</p>
<p>The non-disjoint version of the pool resource uses a single upstream memory resource. Every allocation is larger than strictly necessary to fulfill the end-user's request, because it needs to account for the memory overhead of tracking the memory blocks and chunks inside those same memory regions. Nevertheless, this version should be more memory-efficient than the <code><a class="el" href="classthrust_1_1mr_1_1disjoint__unsynchronized__pool__resource.html">disjoint_unsynchronized_pool_resource</a></code>, because it doesn't need to allocate additional blocks of memory from a separate resource, which in turn would necessitate the bookkeeping overhead in the upstream resource.</p>
<p>This version requires that memory allocated from Upstream is accessible from device. It supports smart references, meaning that the non-managed CUDA resource, returning a device-tagged pointer, will work, but will be much less efficient than the disjoint version, which wouldn't need to touch device memory at all, and therefore wouldn't need to transfer it back and forth between the host and the device whenever an allocation or a deallocation happens.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Upstream</td><td>the type of memory resources that will be used for allocating memory blocks </td></tr>
  </table>
  </dd>
</dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>thrust/mr/<a class="el" href="pool_8h_source.html">pool.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
